<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<head>
    <meta charset="UTF-8">
    <title>login</title>
</head>
<body>
<th:block th:replace="layout/header :: header"></th:block>
    <h2>login</h2>
    이메일 : <input type="text" name="memberEmail" id="memberEmail"> <br>
    비밀번호 : <input type="text" name="memberPassword" id="memberPassword"> <br>
    <button th:onclick="login()">로그인</button>
</body>
<script th:inline="javascript">
    const login = () => {
      let email = document.getElementById("memberEmail").value;
      let password = document.getElementById("memberPassword").value;
      $.ajax({
        url:"/member/login",
        type:"post",
        data:{
            "memberEmail":email,
            "memberPassword":password
        },
        dataType:"text",
        success:function (result){
            if (result == "ok"){
                alert("환영합니다!!");
                location.href = "/board/";
            }else{
                alert("아이디 혹은 비밀번호가 일치하지 않습니다!!");
            }
        }
      });

    }
</script>
</html>